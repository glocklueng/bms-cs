<!DOCTYPE html>
<html lang="en">
	<head>
		<!--#include virtual="/sources.html"-->
		<title>RobotMoose - Game Demo</title>

		<script src="block.js"></script>
		<script src="canvas.js"></script>
		<script src="level.js"></script>
		<script src="moose.js"></script>
		<script src="sprite.js"></script>
		<script>
			var simulation;

			function init()
			{
				simulation=new canvas_t(document.getElementById("canvas"),setup,loop,draw);

				if(!simulation)
					alert("Is WebGL enabled?");
			}

			var moose;
			var level;
			var pos={x:54,y:100};

			function setup()
			{
				moose=new moose_t(pos.x+64,pos.y);
				level=new level_t([{x:pos.x,y:pos.y},{x:pos.x+64,y:pos.y+64},
					{x:pos.x+128,y:pos.y+64},{x:pos.x+128+64,y:pos.y}]);
			}

			function loop(dt)
			{
				moose.loop(simulation,dt,level);
			}

			function draw()
			{
				moose.draw(simulation);
				level.draw(simulation);
			}
		</script>
	</head>

	<body role="document" onload="init();">
		<!--#include virtual="/navbar.html"-->
		<div class="container theme-showcase" role="main" style="padding-top: 70px;">
			<div class="page-header">
				<h1>Demo</h1>
			</div>
			<center><canvas id="canvas" width="320px" height="240px" style="border:1px solid #000000;"></canvas></center>
		</div>
	</body>
</html>